<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Teach-A-Robot</title>

    <script type="text/javascript" src="http://cdn.robotwebtools.org/threejs/current/three.min.js"></script>
    <script src="http://cdn.robotwebtools.org/ColladaAnimationCompress/current/ColladaLoader2.min.js"></script>
    <script type="text/javascript" src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script type="text/javascript" src="scripts/ros3d.min.js"></script>
    <script type="text/javascript" src="scripts/dviz.js"></script>

    <script src="//code.jquery.com/jquery.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/dviz.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-43942681-1', 'teacharobot.org');
      ga('send', 'pageview');
    </script>

  </head>

  <body onload="init()">
    <div class="container">

      <div class="jumbotron">
	<h1>Teach-A-Robot</h1>
      </div>

      <!-- Instructions modal dialog -->
      <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true">
	<div class="modal-dialog">
	  <div class="modal-content">
	    <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="infoModalTitle">How to Teach-A-Robot</h4>
	    </div>
	    <div class="modal-body">
	      <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
		<!-- Indicators -->
		<ol class="carousel-indicators">
		  <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
		  <li data-target="#carousel-example-generic" data-slide-to="1"></li>
		  <li data-target="#carousel-example-generic" data-slide-to="2"></li>		  
		  <li data-target="#carousel-example-generic" data-slide-to="3"></li>		 
		  <li data-target="#carousel-example-generic" data-slide-to="4"></li>
		  <li data-target="#carousel-example-generic" data-slide-to="5"></li>
		</ol>

		<!-- Wrapper for slides -->
		<div class="carousel-inner">
		  <div class="item active">
		    <img src="images/black.jpg" alt="Grasp selection">
		    <div class="carousel-caption">
		      <p>For each goal, first select a good grasp so that the robot knows how to hold the object. Click and drag the colored rings to change the orientation of the hand.</p>
		    </div>
		  </div>
		  <div class="item">
		    <img src="images/black.jpg" alt="Accept grasp">
		    <div class="carousel-caption">
		      <p>When you've chosen a good grasp, click on the "Accept Grasp" button.</p>
		    </div>
		  </div>
		  <div class="item">
		    <img src="images/MoveBase.jpg" alt="Base movement">
		    <div class="carousel-caption">
		      <p>To move the robot towards the goal, click and drag on the green marker at its base.</p>
		    </div>
		  </div>
		  <div class="item">
		    <img src="images/MoveGripper.jpg" alt="End-effector movement">
		    <div class="carousel-caption">
		      <p>To move the gripper of the robot, click and drag the green marker.</p>
		    </div>
		  </div>
		  <div class="item">
		    <img src="images/black.jpg" alt="z-control of the end-effector">
		    <div class="carousel-caption">
		      <p>Press the z-key while dragging the green marker to move the gripper up and down.</p>
		    </div>
		  </div>
		  <div class="item">
		    <img src="images/black.jpg" alt="Advanced arm control">
		    <div class="carousel-caption">
		      <p>For more control over the gripper orientation and the elbow, select the "Advanced Gripper Controls" button.</p>
		    </div>
		  </div>
		</div>

		<!-- Controls -->
		<a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
		  <span class="glyphicon glyphicon-chevron-left"></span>
		</a>
		<a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
		  <span class="glyphicon glyphicon-chevron-right"></span>
		</a>
	      </div>
	    </div>
	    <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Done!</button>
	    </div>
	  </div>
	</div>
      </div>

      <!-- Goal complete notification modal dialog -->
      <div class="modal fade" id="goalCompleteModal" tabindex="-1" role="dialog" aria-labelledby="goalCompleteModal" aria-hidden="true">
	<div class="modal-dialog">
	  <div class="modal-content">
	    <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="goalCompleteModalTitle">Goal Completed!</h4>
	    </div>
	    <div class="modal-body" id="goalCompleteMessage">
	    </div>
	    <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Continue!</button>
	    </div>
	  </div>
	</div>
      </div>

      <!-- The DViz window -->
      <div class="col-lg-9 col-lg-offset-1">
	<div id="dviz" class="center-dviz"></div>
      </div>

    </div>

    <div class="container">


      <div class="col-lg-9 col-lg-offset-1">
	<!-- This is where DVizClient-generated alerts will be placed --->
	<div id="alerts" class="row top-margin">
	<!-- <div id="alertDialog" class="alert alert-warning"></div> -->
	</div>
	
	<!-- Gameplay controls -->
	<div class="row top-margin">
	  <!-- @todo to center, add text-center to div class below -->
	  <!--<div class="btn-group-horizontal">-->
	  <div class="panel panel-default">
	    <div class="panel-body text-center">
	    <button id="playPause" data-toggle="tooltip" 
		    data-placement="top" title="When you're ready, click here to start the task!"
		    type="button" class="tip btn btn-default"
		    disabled><!-- Play -->
	      <img src="images/start.png" width="65" height="65" />
	    </button>
	    <button id="acceptChangeGrasp" data-toggle="tooltip" 
		    data-placement="top" title="Click here when you're done choosing a good grasp for the object."
		    type="button" class="tip btn btn-default"
		    disabled><!-- Accept Grasp -->
	      <img src="images/accept_grasp.png" width="65" height="65" />
	    </button>
	    <button id="baseHandCamera" data-toggle="tooltip" 
		    data-placement="top" title="Switch the camera from following the base to following the hand of the robot."
		    type="button" class="tip btn btn-default">
	      Hand Camera<br />
	      <!-- <img src="images/hand_camera.png" width="65" height="65" /> -->
	      <img src="images/black.jpg" width="65" height="45" />
	    </button>
	    <button id="freeFollowingCamera" data-toggle="tooltip" 
		    data-placement="top" title="A free camera will not follow the robot's movements automatically."
		    type="button" class="tip btn btn-default">
	      Free Camera<br />
	      <!-- <img src="images/free_camera.png" width="65" height="65" /> -->
	      <img src="images/black.jpg" width="65" height="45" />
	    </button>
	    <button id="rotateHandControls" data-toggle="tooltip" 
		    data-placement="top" title="Full control give you more freedom to move the elbow and rotate the hand of the robot."
		    type="button" class="tip btn btn-default"><!-- Rotate Hand Controls -->
	      <img src="images/full_control.png" width="65" height="65" />
	    </button>
	    <button id="settings" data-toggle="tooltip" 
		    data-placement="top" title="Modify settings such as the base and arm speed of the robot."
		    type="button" class="tip btn btn-default"
		    >Show Gameplay Settings<br />
	      <!-- <img src="images/settings.png" width="65" height="65" /> -->
	      <img src="images/black.jpg" width="65" height="45" />
	    </button>

	    <br />

	    <label for="gripperJointAngle">Open/close gripper:</label>
	    <div id="gripperJointAngle"></div>
	    </div>
	  </div>
	</div>

	<!-- The task list -->
	<div class="row top-margin">
	  <div class="col-lg-5">
	    <div class="panel panel-default">
	      <div class="panel-heading">
		<h4 id="currentGoal">No task loaded.</h4>
	      </div>
	      <div class="panel-body scrollable">
		<div class="list-group goal-list" id="task">
		</div>
	      </div>
	    </div>
          </div>
	  
	  <!-- The settings panel -->
	  <div class="col-lg-5">
	    <div id="gameplaySettings" class="panel panel-default">
	      <div class="panel-heading">
		<h4>Gameplay Settings</h4>
	      </div>
	      <div class="panel-body">
		<p>
		  <label for="baseLinearSpeed">Base driving speed: </label>
		  <div id="baseLinearSpeed"></div>
		</p>
		<p>
		  <label for="baseAngularSpeed">Base turning speed: </label>
		  <div id="baseAngularSpeed"></div>
		</p>
		<p>
		  <label for="endEffectorSpeed">Arm speed: </label>
		  <div id="endEffectorSpeed"></div>
		</p>
		<p>
		  <button id="cameraPos"
			  type="button" class="tip btn btn-default"
			  >Get Camera Position
		  </button>
		</p>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
    </div>

    <div class="col-lg-10">
      <div id="footer">
	<div class="container">
          <p class="text-muted credit">&copy; TeachARobot.org 2013</p>
	</div>
      </div>
    </div>

  </body>
</html>
